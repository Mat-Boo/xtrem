import React from 'react';
import ToggleSwitch from './ToggleSwitch';

export default function PermissionsList({ permissions, permissionCategory, idPartner, namePartner, idClub, nameClub, userRoles, isEnabled }) {
    return (
        <ul className='permissionsList'>
            {
                permissions
                    .sort((a, b) => (
                        a.PartnerPermissions ? a.PartnerPermissions.Permission.id - b.PartnerPermissions.Permission.id : 
                        (a.Permission ? a.Permission.id - b.Permission.id : a.id - b.id)))
                    .map((permission) => (
                        <li  key={permission.id} className='switchPermission'>
                            <div>
                                <ToggleSwitch
                                    idPartner={idPartner}
                                    namePartner={namePartner}
                                    idClub={idClub}
                                    nameClub={nameClub}
                                    idToggle={permission.PartnerPermissions ? permission.PartnerPermissions.id : (permission.Permission ? permission.Permission.id : permission.id)}
                                    nameToggle={permission.PartnerPermissions ? permission.PartnerPermissions.Permission.name : (permission.Permission ? permission.Permission.name : permission.name)}
                                    typeToggle='permission'
                                    isActive={permission.Permission || permission.PartnerPermissions ? permission.isActive : false}
                                    roles={userRoles}
                                    isEnabled={isEnabled}
                                />
                            </div>
                            <span className='permissionName'>{permission.PartnerPermissions ? permission.PartnerPermissions.Permission.name : (permission.Permission ? permission.Permission.name : permission.name)}</span>
                        </li>
                ))
            }
        </ul>
    )
}
